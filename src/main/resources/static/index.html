<!doctype html>
<html lang="ko" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.88.1">
    <title> 오늘 뭐 먹지? </title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/album/">

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.6.0/font/bootstrap-icons.css" integrity="sha384-7ynz3n3tAGNUYFZD3cWe5PDcE36xj85vyFkawcF6tIwxvIecqKvfwLiaFdizhPpN" crossorigin="anonymous">
    <link href="css/mycss.css" rel="stylesheet">

    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"></script>

    <!--파비콘-->
    <link rel="shortcut icon" type="image/x-icon" href="images/favicon2.ico"/>


    <!-- JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>

    <!-- 구글 폰트 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&display=swap" rel="stylesheet">

    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
    </style>

    <script>

        $(document).ready(function () {
            //토큰이 있으면 로그인 화면
            if (localStorage.getItem("token")) {
                $("#logout").css("display","");
                $("#mypage").css("display","");
                $("#login").css("display","none");
                $("#username").html(localStorage.getItem("username"));
            } else {
                //토큰이 없으면 로그아웃된 화면
                $("#userMessege").empty();
                $("#logout").css("display","none");
                $("#mypage").css("display","none");
            }
            $("#logout").click(function () {
                //로그아웃
                localStorage.removeItem("token");
                localStorage.removeItem("username");
                location.href = '/';
            });
        })
        //헤더에 토큰값 넣어 ajax 호출
        $.ajaxPrefilter(function (options, originalOptions, jqXHR) {
            if (localStorage.getItem('token')) {
                jqXHR.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));
            }
        });
        function heart() {
            if ($("#heart").hasClass("bi-heart")) {
                $("#heart").removeClass("bi-heart").addClass("bi-heart-fill");
                // $.ajax({
                //     type:"POST",
                //     url:"/liked",
                //     contentType: "application/json",
                //     data:JSON.stringify(link),
                //     success:function(response) {
                //         $('#좋아요숫자').empty();
                //         $.ajax({
                //             type:"GET",
                //             url:"/liked",
                //             success:function(response) {
                //                 let cnt = response['cnt']
                //                 $('#좋아요숫자').append(cnt);
                //             }
                //         })
                //     }
                // })
            } else {
                $("#heart").removeClass("bi-heart-fill").addClass("bi-heart");
            }
        }
    </script>

</head>
<body>

<header>

    <!--    네비게이션바-->
    <div class="navbar navbar-dark bg-dark shadow-sm">
        <div class="nav-container">
            <div class="nav-title-box">

                <a href="#" class="title nav-text" style="padding-top: 5px;">오늘 뭐 먹지?</a>
                <a href="/" class="nave-menu-text nav-menu">뭐먹을지 추천받기</a>
                <a href="/" class="nave-menu-text nav-menu">맛있는거 추천받기</a>
                <a href="/" class="nave-menu-text nav-menu">이세상 음식 전부보기</a>
            </div>
            <div class="nav-botton-box">
                <button class="nav-button" onclick="window.location.href = '/login.html'" id="login">로그인</button>
                <button class="nav-button" id="logout">로그아웃</button>
                <button class="nav-button" onclick="window.location.href = '/mypage.html'" id="mypage">마이페이지</button>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade modal-signin" tabindex="-1" role="dialog" id="LoginModal" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content rounded-5 shadow">
                <div class="modal-header p-5 pb-4 border-bottom-0">
                    <!-- <h5 class="modal-title">Modal title</h5> -->
                    <h2 class="fw-bold mb-0">Sign up for free</h2>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body p-5 pt-0">
                    <form class="">
                        <div class="form-floating mb-3">
                            <input type="email" class="form-control rounded-4" id="floatingInput"
                                   placeholder="name@example.com">
                            <label for="floatingInput">Email address</label>
                        </div>
                        <div class="form-floating mb-3">
                            <input type="password" class="form-control rounded-4" id="floatingPassword"
                                   placeholder="Password">
                            <label for="floatingPassword">Password</label>
                        </div>
                        <button class="w-100 mb-2 btn btn-lg rounded-4 btn-primary" type="submit">Sign up</button>
                        <small class="text-muted">By clicking Sign up, you agree to the terms of use.</small>
                        <hr class="my-4">
                        <h2 class="fs-5 fw-bold mb-3">Or use a third-party</h2>
                        <button class="w-100 py-2 mb-2 btn btn-outline-dark rounded-4" type="submit">
                            <svg class="bi me-1" width="16" height="16">
                                <use xlink:href="#twitter"/>
                            </svg>
                            Sign up with Twitter
                        </button>
                        <button class="w-100 py-2 mb-2 btn btn-outline-primary rounded-4" type="submit">
                            <svg class="bi me-1" width="16" height="16">
                                <use xlink:href="#facebook"/>
                            </svg>
                            Sign up with Facebook
                        </button>
                        <button class="w-100 py-2 mb-2 btn btn-outline-secondary rounded-4" type="submit">
                            <svg class="bi me-1" width="16" height="16">
                                <use xlink:href="#github"/>
                            </svg>
                            Sign up with GitHub
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

</header>

<main>
    <section class="py-5 text-center container">
        <div class="row py-lg-5">
            <div class="col-lg-6 col-md-8 mx-auto">
                <h1 class="fw-light"> 오늘 뭐 먹지 ? </h1>
                <p class="lead text-muted">간단한 질문에 답하고, 오늘의 식사를 추천 받아 보세요!</p>
                <div id="userMessege"><div class="header"><span id="username"></span> 님의 로그인 성공!</div></div>
                <div>
                    <!--                   연결은 되었으나 로그인 시 모달 안뜨게 처리 필요 -->
                    <button class="main-button" onclick="window.location.href='/posting.html'">추천하기</button>
                    <!--                    <button type="button" class="main-button" data-bs-toggle="modal" data-bs-target="#SignupPlzModal"-->
                    <!--                            onclick="window.location.hef='/posting'">추천하기-->
                    <!--                    </button>-->
                    <button class="main-button" onclick="window.location.href ='/recommend.html'">추천받기</button>
                </div>
            </div>
        </div>
        <!-- Modal -->
        <div class="modal fade" id="SignupPlzModal" tabindex="-1" aria-labelledby="exampleModalLabel"
             aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        로그인 후 이용해주세요!
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </section>
<div class="foodList" style="width:60%; margin:auto;">
    <div id="${id}" style="width:275px; margin-left:5px; margin-right: 5px; border:1px solid gainsboro; border-radius: 5px; float: left">
        <div class="foodimage" style='width: 275px; height: 275px; border-top-left-radius: 5px; border-top-right-radius: 5px;
                                            /*background-image:url("/images/food_sample.jpg")*/ background-color: black' ;></div>
        <div class="foodinfo" style="width: 240px; padding: 20px;">
            <p style="font-size: 12pt; font-weight: bold; margin: 0 0 5px 0;">${postingFoodName}</p>
            <i class="bi bi-heart" id="heart" onclick="heart('${id}')"></i>
            <p style="font-size: 10pt; margin: 0px; line-height: 15pt;">${postingMemo}</p>
        </div>
    </div>
</div>
</main>

<footer class="text-muted py-5">
    <div class="container">
        <p class="float-end mb-1">
            <a href="#">Back to top</a>
        </p>
        <p>
            <strong>오늘 뭐 먹지?</strong> made by
            <a href="https://github.com/bestmealever">이거사조</a>. <br>
            이거사조 is Team 4 in 내일배움캠프. <br>
            Welcome to <a href="https://spartacodingclub.kr/">스파르타코딩클럽</a>.
        </p>
    </div>
</footer>
<script src="../assets/dist/js/bootstrap.bundle.min.js"></script>


</body>
</html>
